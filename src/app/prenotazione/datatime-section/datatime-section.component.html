<!-- SECONDA SEZIONE FORM -->
<p style="text-align: center;">Seleziona una tra le fasce orarie disponibili per fissare un incontro.</p>
<!-- CALENDAR -->
<div class="justify-content-center"><ion-datetime  picker-format="YYYY-MM-DD" presentation="date"
    (ionChange)="onDateChange($event)" [isDateEnabled]="isWeekday" [(ngModel)]="prenotazioneService.formattedSelectedDate"></ion-datetime>
</div>
<!-- TIMEGRID -->
@if (loadedTimeGrid) {
  <swiper-container class="time-swiper" #timeSwiper [slidesPerView]="4.5" spaceBetween="6"  initialSlide = 9 >
    @for (time of timeGrid; track time.start_time;let i= $index) {
      <swiper-slide class="swiper-slide" >
        <ion-card
          (click)="onTimeSelect(time.start_time, i)"
          [class.selected]="time.start_time === this.prenotazioneService.selectedTime"
          [ngStyle]="{ 'text-decoration': time.free === 'N' ? 'line-through' : 'none' }"
          [disabled]="time.free === 'N'"
          class="time-card"
          >
          <ion-card-header>
            <ion-card-title style="font-size: 18px;">{{ time.start_time }}</ion-card-title>
          </ion-card-header>
        </ion-card>
      </swiper-slide>
    }
  </swiper-container>
} @else {
  <!-- LOADER -->
  <div style="display: flex; justify-content: center;">
    <ion-spinner></ion-spinner>
  </div>
}